#
# This file contains global XDK properties, that do not explicitly configure Gradle or its DSL infra.
#

# GitHub XTC organization repository properties.
# (We require additional external/secret properties "org.xtclang.repo.github.[user, token]"
#  These are typically defined outside the project in $GRADLE_USER_HOME/gradle.properties)
org.xtclang.repo.github.url=https://maven.pkg.github.com/xtclang/xvm
org.xtclang.repo.github.org=xtclang
org.xtclang.repo.github.tasks.group=github

# Should we rebuild the unicode files from fresh templates as part of the XDK build?
# (Note: this modifies source control files in the project.)
# org.xtclang.unicode.rebuild=false

# Should Docker builds allow emulation for cross-platform builds?
# Set to true to allow cross-platform builds when not on native architecture.
# Default is false - builds will fail if attempting to build for non-native architecture.
org.xtclang.docker.allowEmulation=false

#
# Should we sign our publications? If this property is not set at all, the default
# is to sign only non-snapshot packages that are published, not snapshots.
#
# TODO: ATM sign is disabled for all publications, as we don't need it before the
#   mavenCentral publication integration, and that is not properly configured yet.
#
org.xtclang.signing.enabled=false

# Force republications of Gradle plugins every build, without explicitly changing versions.
org.xtclang.publish.build.identifiers=false

# Java Properties; used by the XTC precompiled Java convention plugin.
#
# JDK Toolchain Configuration:
# This property controls the Java toolchain version used throughout the entire build.
#
# Features:
# - Automatic Invalidation: Changing this value automatically triggers recompilation
#   of all Java code without requiring 'gradlew clean'
# - Consistent Bytecode: Ensures all compiled classes use the same Java version
# - Smart Preview Features: Auto-enables preview features for JDK 24+ to handle
#   deprecated/unsafe operations
#
# Usage:
# 1. Default (from this file): Uses the value below (21)
# 2. Command line override: ./gradlew build -Porg.xtclang.java.jdk=24
# 3. Environment variable: export ORG_XTCLANG_JAVA_JDK=24
#
# Supported versions: 21, 24 (others may work but are not tested)
# Safe to change: Yes - no clean required, automatic rebuild detection
org.xtclang.java.jdk=24
org.xtclang.java.enablePreview=true
org.xtclang.java.enableNativeAccess=true
org.xtclang.java.maxWarnings=100
org.xtclang.java.maxErrors=100
org.xtclang.java.warningsAsErrors=true
org.xtclang.java.lint=false
org.xtclang.java.test.stdout=false

# XTC Plugin Properties
org.xtclang.plugin.id=org.xtclang.xtc-plugin
org.xtclang.plugin.display.name=XTC Language Gradle plugin
org.xtclang.plugin.description=A plugin that teaches Gradle the XTC language. First step to language server debugging and IDE support.
org.xtclang.plugin.implementation.class=org.xtclang.plugin.XtcPlugin
org.xtclang.plugin.website=https://xtclang.org
org.xtclang.plugin.vcs.url=https://github.com/xtclang/xvm
org.xtclang.plugin.bundle.javatools=false
org.xtclang.plugin.isAutomatedPublishing=true

# Publishing configuration
# Controls which publishing repositories are enabled
# GitHub Packages is the primary repository (default: true)
org.xtclang.publish.GitHub=true

# Gradle Plugin Portal publishing (default: false)
org.xtclang.publish.gradlePluginPortal=false

# Maven Central publishing (default: false)
org.xtclang.publish.mavenCentral=false
