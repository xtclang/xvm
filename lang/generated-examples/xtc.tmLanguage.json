{
    "name": "Ecstasy",
    "scopeName": "source.xtc",
    "fileTypes": [
        "x",
        "xtc"
    ],
    "repository": {
        "comments": {
            "patterns": [
                {
                    "name": "comment.block.documentation.xtc",
                    "begin": "/\\*\\*",
                    "end": "\\*/",
                    "patterns": [
                        {
                            "name": "keyword.other.documentation.xtc",
                            "match": "@[a-zA-Z]+"
                        }
                    ]
                },
                {
                    "name": "comment.block.xtc",
                    "begin": "/\\*",
                    "end": "\\*/"
                },
                {
                    "name": "comment.line.double-slash.xtc",
                    "match": "//.*$"
                }
            ]
        },
        "keywords": {
            "patterns": [
                {
                    "name": "keyword.control.xtc",
                    "match": "\\b(if|else|switch|case|default|for|while|do|break|continue|return|try|catch|finally|throw|using|assert)\\b"
                },
                {
                    "name": "keyword.declaration.xtc",
                    "match": "\\b(construct|function|typedef|import|module|package|class|interface|mixin|service|const|enum|struct|val|var)\\b"
                },
                {
                    "name": "storage.modifier.xtc",
                    "match": "\\b(public|protected|private|static|immutable|conditional|allow|avoid|prefer|desired|required|optional|embedded|inject|extends|implements|delegates|incorporates|into)\\b"
                }
            ]
        },
        "strings": {
            "patterns": [
                {
                    "name": "string.interpolated.xtc",
                    "begin": "\\$\"",
                    "end": "\"",
                    "patterns": [
                        {
                            "name": "constant.character.escape.xtc",
                            "match": "\\\\."
                        },
                        {
                            "name": "variable.other.interpolated.xtc",
                            "begin": "\\{",
                            "end": "\\}",
                            "patterns": [
                                {
                                    "include": "#expression"
                                }
                            ]
                        }
                    ]
                },
                {
                    "name": "string.quoted.double.xtc",
                    "begin": "\"",
                    "end": "\"",
                    "patterns": [
                        {
                            "name": "constant.character.escape.xtc",
                            "match": "\\\\."
                        }
                    ]
                },
                {
                    "name": "string.quoted.single.xtc",
                    "begin": "'",
                    "end": "'",
                    "patterns": [
                        {
                            "name": "constant.character.escape.xtc",
                            "match": "\\\\."
                        }
                    ]
                }
            ]
        },
        "numbers": {
            "patterns": [
                {
                    "name": "constant.numeric.hex.xtc",
                    "match": "\\b0[xX][0-9a-fA-F][0-9a-fA-F_]*\\b"
                },
                {
                    "name": "constant.numeric.binary.xtc",
                    "match": "\\b0[bB][01][01_]*\\b"
                },
                {
                    "name": "constant.numeric.float.xtc",
                    "match": "\\b[0-9][0-9_]*\\.[0-9][0-9_]*([eE][+-]?[0-9]+)?\\b"
                },
                {
                    "name": "constant.numeric.integer.xtc",
                    "match": "\\b[0-9][0-9_]*\\b"
                }
            ]
        },
        "types": {
            "patterns": [
                {
                    "name": "support.type.builtin.xtc",
                    "match": "\\b(Bit|Boolean|Byte|Char|Int|Int8|Int16|Int32|Int64|Int128|IntN|UInt|UInt8|UInt16|UInt32|UInt64|UInt128|UIntN|Dec|Dec32|Dec64|Dec128|DecN|Float|Float8e4|Float8e5|Float16|Float32|Float64|Float128|FloatN|BFloat16|String|Char|Object|Enum|Exception|Const|Service|Module|Package|Array|List|Set|Map|Range|Interval|Tuple|Function|Method|Property|Type|Class|Nullable|Orderable|Hashable|Stringable|Iterator|Iterable|Collection|Sequence|Void|Null|True|False)\\b"
                },
                {
                    "name": "entity.name.type.xtc",
                    "match": "\\b[A-Z][a-zA-Z0-9_]*\\b"
                }
            ]
        },
        "annotations": {
            "name": "storage.type.annotation.xtc",
            "match": "@[a-zA-Z_][a-zA-Z0-9_]*"
        },
        "constants": {
            "patterns": [
                {
                    "name": "constant.language.boolean.xtc",
                    "match": "\\b(True|False)\\b"
                },
                {
                    "name": "constant.language.null.xtc",
                    "match": "\\bNull\\b"
                }
            ]
        },
        "operators": {
            "patterns": [
                {
                    "name": "keyword.operator.assignment.xtc",
                    "match": "\\|\\|=|>>>=|\\?:=|\\+=|\\*=|\\|=|\\^=|<<=|>>=|\\?=|&&=|-=|/=|%=|&=|:=|="
                },
                {
                    "name": "keyword.operator.comparison.xtc",
                    "match": "<=>|==|!=|<=|>=|<|>"
                },
                {
                    "name": "keyword.operator.logical.xtc",
                    "match": "\\|\\||\\^\\^|&&|!"
                },
                {
                    "name": "keyword.operator.bitwise.xtc",
                    "match": ">>>|\\||\\^|<<|>>|&|~"
                },
                {
                    "name": "keyword.operator.arithmetic.xtc",
                    "match": "\\+\\+|\\+|\\*|/%|--|-|/|%"
                },
                {
                    "name": "keyword.operator.access.xtc",
                    "match": "\\?\\.|\\."
                },
                {
                    "name": "keyword.operator.other.xtc",
                    "match": ">\\.\\.<|>\\.\\.|\\.\\.<|\\.\\.|\\?:|->|<-|_"
                }
            ]
        },
        "function-call": {
            "name": "meta.function-call.xtc",
            "match": "\\b([a-z_][a-zA-Z0-9_]*)\\s*(?=\\()",
            "captures": {
                "1": {
                    "name": "entity.name.function.xtc"
                }
            }
        },
        "class-declaration": {
            "name": "meta.class.xtc",
            "begin": "\\b(class|interface|mixin|service|const|enum)\\s+([A-Z][a-zA-Z0-9_]*)",
            "end": "(?=\\{|$)",
            "beginCaptures": {
                "1": {
                    "name": "keyword.declaration.xtc"
                },
                "2": {
                    "name": "entity.name.type.class.xtc"
                }
            },
            "patterns": [
                {
                    "include": "#type-parameters"
                },
                {
                    "include": "#inheritance"
                }
            ]
        },
        "module-declaration": {
            "name": "meta.module.xtc",
            "match": "\\b(module)\\s+([a-zA-Z_][a-zA-Z0-9_.]*)",
            "captures": {
                "1": {
                    "name": "keyword.declaration.module.xtc"
                },
                "2": {
                    "name": "entity.name.type.module.xtc"
                }
            }
        },
        "method-declaration": {
            "name": "meta.method.xtc",
            "begin": "\\b([a-zA-Z_][a-zA-Z0-9_<>,\\s]*)\\s+([a-z_][a-zA-Z0-9_]*)\\s*(?=\\()",
            "end": "(?=\\{|;)",
            "beginCaptures": {
                "1": {
                    "name": "storage.type.return.xtc"
                },
                "2": {
                    "name": "entity.name.function.xtc"
                }
            }
        },
        "expression": {
            "patterns": [
                {
                    "include": "#strings"
                },
                {
                    "include": "#numbers"
                },
                {
                    "include": "#constants"
                },
                {
                    "include": "#operators"
                },
                {
                    "include": "#function-call"
                }
            ]
        }
    },
    "patterns": [
        {
            "include": "#comments"
        },
        {
            "include": "#annotations"
        },
        {
            "include": "#module-declaration"
        },
        {
            "include": "#class-declaration"
        },
        {
            "include": "#method-declaration"
        },
        {
            "include": "#keywords"
        },
        {
            "include": "#types"
        },
        {
            "include": "#strings"
        },
        {
            "include": "#numbers"
        },
        {
            "include": "#constants"
        },
        {
            "include": "#operators"
        },
        {
            "include": "#function-call"
        }
    ]
}